<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Introducing Gumshoe</title><title>Introducing Gumshoe | HBC Tech</title><meta property="og:title" content="Introducing Gumshoe"><meta name="author" content="Andrew Powell"><meta property="og:locale" content="en_US"><meta name="description" content="An analytics and event tracking sleuth."><meta property="og:description" content="An analytics and event tracking sleuth."><link rel="canonical" href="http://tech.hbc.com/2015-06-16-introducing-gumshoe.html"><meta property="og:url" content="http://tech.hbc.com/2015-06-16-introducing-gumshoe.html"><meta property="og:site_name" content="HBC Tech"><meta property="og:type" content="article"><meta property="article:published_time" content="2015-06-16T09:17:48-05:00"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@Andrew Powell"><script type="application/ld+json">{"name":null,"description":"An analytics and event tracking sleuth.","author":{"@type":"Person","name":"Andrew Powell"},"@type":"BlogPosting","url":"http://tech.hbc.com/2015-06-16-introducing-gumshoe.html","publisher":null,"image":null,"headline":"Introducing Gumshoe","dateModified":"2015-06-16T09:17:48-05:00","datePublished":"2015-06-16T09:17:48-05:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://tech.hbc.com/2015-06-16-introducing-gumshoe.html"},"@context":"http://schema.org"}</script><meta property="og:title" content="Introducing Gumshoe"><meta property="og:type" content="article"><meta property="og:url" content="http://tech.hbc.com///2015-06-16-introducing-gumshoe.html"><meta property="og:description" content="An analytics and event tracking sleuth."><meta property="og:image" content="http://tech.hbc.com//assets/images/hbc-tech-logo-tipi.jpg"><meta property="og:image:secure_url" content="http://tech.hbc.com//assets/images/"><meta property="og:image:type" content="image/jpeg"><meta property="og:image:alt"><link rel="stylesheet" href="http://tech.hbc.com//assets/css/main.css"><link rel="canonical" href="http://tech.hbc.com/2015-06-16-introducing-gumshoe.html"><link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700" rel="stylesheet"><link rel="shortcut icon" href="http://tech.hbc.com//assets/images/favicon.ico"></head><body aria-label="Content"><header id="site-header" class="site-header"><div class="site-header__inner"><a class="site-header__logo" href="http://tech.hbc.com//"><svg class="hbc-tech-logo" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 64 52"><use class="hbc-tech-logo__text" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#hbc-tech-logo"></use></svg></a><nav id="menu" class="navigation"><svg class="navigation__menu-icon" xmlns="http://www.w3.org/2000/svg"><path class="bar bar__top" d="M0,3 L30,3"></path><path class="bar bar__cross-1" d="M0,14 L30,14"></path><path class="bar bar__cross-2" d="M0,14 L30,14"></path><path class="bar bar__bottom" d="M0,25 L30,25"></path></svg><menu class="menu"><ul class="link-list"><li class="link-list__link-item"><a href="http://tech.hbc.com//" class="link-list__link"><span class="link-list__link-highlight">Insights</span></a></li><li class="link-list__link-item"><a href="http://tech.hbc.com//code" class="link-list__link"><span class="link-list__link-highlight">Code</span></a></li><li class="link-list__link-item"><a href="http://tech.hbc.com//about" class="link-list__link"><span class="link-list__link-highlight">About</span></a></li><li class="link-list__link-item"><a href="http://tech.hbc.com//work-here" class="link-list__link"><span class="link-list__link-highlight">Work Here</span></a></li></ul></menu></nav><search id="header-search" class="header-search"><form class="header-search__form"><input type="text" class="header-search__input" id="header-search-input" placeholder="Search" name="query"></form><svg id="header-search__toggle" class="header-search__svg" xmlns="http://www.w3.org/2000/svg"><path id="leftSearch" class="path path--left-half" d="M11.4842576,23.9891168 C5.09608476,23.7189967 0,18.4546255 0,12 C0,5.54951437 4.85419801,0.113423154 12.4763811,0.0114091479"></path><path id="rightSearch" class="path path--right-half" d="M12.5376167,0.0118279089 C18.9155446,0.293025077 24,5.55274344 24,12 C24,18.4701834 17.7604297,24.3112218 11.1896721,23.9909829"></path><path id="handle" class="path path--handle" d="M20.7485408,20.8914207 L26.8571202,27 L20.7485408,20.8914207"></path></svg><section class="header-search__results" id="header-search__results"></section></search></div></header><section class="content"><article class="article"><header class="article__header article__header--reveal"><h1 class="header-title" title="Introducing Gumshoe">Introducing Gumshoe</h1><span id="no-image-placeholder" class="no-image-placeholder"></span><div class="article-meta"><a href="http://tech.hbc.com//category/front-end" class="article-meta__category">front end</a> <span class="slug-divider"></span> <span class="article-meta__author">Andrew Powell</span> <span class="slug-divider"></span> <span class="article-meta__date">JUN 16, 2015</span></div></header><section class="article__content article__content--reveal"><div class="article__content__read-time"><span class="read-time" title="Estimated read time"><span class="read-time__text-1">4 min</span> <span class="read-time__text-2">Read</span> <span class="read-time__text-3">Time</span></span></div><div class="article__content__share-buttons"><ul class="share-buttons"><li class="share-buttons__link-item"><a href="https://twitter.com/intent/tweet?text=http://tech.hbc.com///2015-06-16-introducing-gumshoe.html" class="share-buttons__link" title="Share on Twitter" target="_blank"><svg class="hbc-svg-icon" height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon--twitter" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#twitter"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.linkedin.com/shareArticle?mini=true&url=http://tech.hbc.com//&source=/2015-06-16-introducing-gumshoe.html&title=Introducing Gumshoe" class="share-buttons__link" title="Share on Linkedin" target="_blank"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#linkedin"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.facebook.com/sharer/sharer.php?u=http://tech.hbc.com///2015-06-16-introducing-gumshoe.html" class="share-buttons__link" title="Share on Facebook" target="_blank"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#facebook"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.reddit.com/submit?url=http://tech.hbc.com///2015-06-16-introducing-gumshoe.html" class="share-buttons__link" title="Share on Reddit" target="_blank"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#reddit"></use></svg></a></li></ul></div><div class="article__content__body"><p>An analytics and event tracking sleuth.</p><p>In late 2014 Gilt received word that a core feature of Google Analytics (henceforth known as GA) would be removed in the next iteration of the platform. The ability to redirect collected data and events to a secondary endpoint had grown critical to our the analization of user behavior, patterns, and effectiveness of our user experience, as well as sales forecasting and predictive modeling. Our two most viable options for retaining this ability were to implement another tracking platform from a different vendor or create and implement our own, tailored to our specific needs.</p><h1><a href="https://github.com/gilt/Gumshoe" target="_blank"><strong><a href="https://github.com/gilt/Gumshoe" target="_blank">https://github.com/gilt/Gumshoe</a></strong></a></h1><p>After taking a hard look at the heavy hitters of the analytics platform sphere it was decided that we&rsquo;d take the divergent route and roll our own analytics and event tracking library. We won&rsquo;t go into detail on why we passed on big players like Snowplow, Omniture, CoreMetrics, et al. Rather, we&rsquo;ll focus on Gumshoe and its merits.</p><h2>What Did We Need?</h2><p>To anyone in development, marketing, or data sciences on the web, our list of needs will sound quite familiar.</p><p>First and foremost we required parity with GA&rsquo;s base page data. The industry has come to be reliant and has standardized on the kind of data that GA collects for various reporting, including vital year-over-year reporting. So no shockers there.</p><p>As performance-minded developers we also had a low page footprint in mind.</p><p>We desperately needed organized event names and data. One major shortcoming of GA was the lack of enforcement of any kind of standard in event naming and data. Arbitrary event names and varying event data formats produced migraines the size of Mount Fuji for our Data Scientists. It wasn&rsquo;t uncommon to have the same target event with several different names, in different applications, with different data in different delimited formats.</p><p>Related to the variance in event data, we were looking for a high degree of data integrity and confidence.</p><p>And last but not least, a low delivery failure or miss rate for the data collection.</p><h2>Rolling Our Own</h2><p>Events are events are events. In Gumshoe, everything is an event. There&rsquo;s no disambiguation between page views, virtual page views, or custom user events. Everything is an event, and it&rsquo;s a core tenant of Gumshoe.</p><p>Right off the bat, parity with GA was key. We started by breaking down the data that GA collected from each page view, and moved forward from there. A basic Gumshoe event consists of the following:</p><pre><code>pageData
eventName
eventData
</code></pre><p><strong><code>pageData</code></strong> consists of the GA parity data.<br><strong><code>eventName</code></strong> is self-explanatory; the name of the event we&rsquo;re passing.<br><strong><code>eventData</code></strong> is custom data passed by the consumer which should be associated with an event.</p><p>Wunderbar! We had the recipe for sending a page view event. But how do we set this up so that others can easily send these events to where ever they&rsquo;d like? Enter the transport.</p><p>Transports are the mechanism(s) by which consumers instruct Gumshoe on how it should send the data for each event. One can configure Gumshoe to send to multiple transports, or a single transport, it&rsquo;s your choice. A brief example from the repository:</p><pre><code>(function (root) {

  var gumshoe = root.gumshoe;

  gumshoe.transport({

    name: 'example-transport',

    send: function (data) {
      console.log('Gumshoe: Test Transport: Sending...');
      console.log(data);
    },

    map: function (data) {
      return {
        customData: {
          someData: true
        },
        ipAddress: '192.168.1.1'
      };
    }

  });

})(this);
</code></pre><p>The <code>send</code> method is responsible for actually sending the data. Gumshoe bundles the <a href="https://github.com/gilt/reqwest" target="_blank">https://github.com/gilt/reqwest</a> library, which any transports can freely use. At Gilt we use reqwest.js to send the data to our backend event stack, which we&rsquo;ll cover in subsequent blog posts.</p><p>The <code>map</code> method allows consumers to extend the data which Gumshoe is sending through the transport. At Gilt we use this method to attach a <code>giltData</code> object that is sent along side <code>pageData</code> and contains vital Gilt-specific data for every single event that we send.</p><h2>Using Gumshoe</h2><p>Once you&rsquo;ve got Gumshoe included on your page and you&rsquo;ve specified a transport, you&rsquo;ll need to initialize the library. It&rsquo;s as simple as specifying the transport:</p><pre><code>// tell gumshoe to use our transport  
window.gumshoe({ transport: 'example-transport' });  
</code></pre><p>And sending an event:</p><pre><code>window.gumshoe.send('page.view', {});  
</code></pre><h2>What&rsquo;s Next</h2><p>In forthcoming posts we&rsquo;ll be talking more about the other goals we listed, specifically how we internally solved event organization, event naming standardization, data integrity, and the remainder of the stack that takes over once Gumshoe has delivered the payload.</p><p>We&rsquo;ve been using Gumshoe on gilt.com for some time now, and have been running constant parity comparisons against GA and we&rsquo;re very happy with the results thus far. However, we&rsquo;d be bonkers to claim that Gumshoe is perfect. We&rsquo;ve tailored Gumshoe to be extensible but so far it&rsquo;s only been targeted for use at Gilt. We&rsquo;d love feedback from the community at large. And if you feel you might be able to use Gumshoe, but find it lacking, we&rsquo;d love to talk about how it can be improved.</p></div><footer class="article__content__footer"><div class="article-tags"><span class="article-tags__tag">gumshoe</span><span>,</span> <span class="article-tags__tag">google analytics</span><span>,</span> <span class="article-tags__tag">gilt</span><span>,</span> <span class="article-tags__tag">events</span><span>,</span> <span class="article-tags__tag">event tracking</span><span>,</span> <span class="article-tags__tag">andrew powell</span></div><section class="author-bio"><svg class="author-bio__avatar" height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon hbc-svg-icon--avatar__circle" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#circle"></use><use class="hbc-svg-icon hbc-svg-icon--avatar__head" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#head"></use><use class="hbc-svg-icon hbc-svg-icon--avatar__body" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#body"></use></svg><span class="author-bio__name">Andrew Powell</span></section></footer></section><aside class="recirc"><h2 class="header__title">Recent Insights</h2><span class="slug-divider"></span> <a class="header__view-all-link" href="http://tech.hbc.com//categories/index.html">See All</a><div class="recirc__articles"><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="http://tech.hbc.com//2016-11-16-increasing-build-iq-travis-ci.html" class="snippet__title__link" title="Increasing Build IQ with Travis CI">Increasing Build IQ with Travis CI</a></h1><div class="snippet__meta"><a class="meta__category-link" href="http://tech.hbc.com//category/front-end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span> <span class="slug-divider"></span> <span class="meta__date">NOV 16, 2016</span></div><a href="http://tech.hbc.com//2016-11-16-increasing-build-iq-travis-ci.html" class="snippet__excerpt__link" title="Increasing Build IQ with Travis CI"><p class="snippet__excerpt">Continuous Integration is a must these days. And for social, open source projects it’s crucial. Our tool of choice for automated testing is Travis CI. Like most tools, Travis does what it does well. Unfortunately it’s not very “smart”. Heaven help you if you have a large or modular project with a multitude of tests - you’ll be waiting an eternity between builds.</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="http://tech.hbc.com//2016-11-09-linting-npm-version-conflicts.html" class="snippet__title__link" title="Linting NPM Version Conflicts">Linting NPM Version Conflicts</a></h1><div class="snippet__meta"><a class="meta__category-link" href="http://tech.hbc.com//category/front-end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span> <span class="slug-divider"></span> <span class="meta__date">NOV 9, 2016</span></div><a href="http://tech.hbc.com//2016-11-09-linting-npm-version-conflicts.html" class="snippet__excerpt__link" title="Linting NPM Version Conflicts"><p class="snippet__excerpt">Say you had the need for shared front-end assets (scripts, stylesheets, images, etc.) and a need for an entire org to access them, independently, for reliable builds of many different apps which used those assets. NPM might be a good choice - With NPM’s move to a flat-ish install tree, it’s still a relevant choice. But what about package version conflicts?</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="http://tech.hbc.com//2016-11-04-running-with-koa-vuejs.html" class="snippet__title__link" title="Running with Scissors: Koa2 and Vue.js">Running with Scissors: Koa2 and Vue.js</a></h1><div class="snippet__meta"><a class="meta__category-link" href="http://tech.hbc.com//category/front-end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span> <span class="slug-divider"></span> <span class="meta__date">NOV 4, 2016</span></div><a href="http://tech.hbc.com//2016-11-04-running-with-koa-vuejs.html" class="snippet__excerpt__link" title="Running with Scissors: Koa2 and Vue.js"><p class="snippet__excerpt">We love Koa at Gilt. (Hell, I love Koa.) Embarking on a new project, I wanted to try something that wasn’t React or Angular. After poking at the alternatives I landed on Vue.js. I picked up the sharpest pair of scissors I could find and started running.</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="http://tech.hbc.com//2016-02-15-gulp-scan-find-strings.html" class="snippet__title__link" title="gulp-scan &bull; Find Yourself Some Strings">gulp-scan &bull; Find Yourself Some Strings</a></h1><div class="snippet__meta"><a class="meta__category-link" href="http://tech.hbc.com//category/front-end">front end</a> <span class="slug-divider"></span> <span class="meta__author">Andrew Powell</span> <span class="slug-divider"></span> <span class="meta__date">FEB 15, 2016</span></div><a href="http://tech.hbc.com//2016-02-15-gulp-scan-find-strings.html" class="snippet__excerpt__link" title="gulp-scan &bull; Find Yourself Some Strings"><p class="snippet__excerpt">We recently ran across the need to simply scan a file for a particular term during one of our build processes. Surpringly enough, we didn’t find a Gulp plugin that performed only that one simple task. And so gulp-scan was born and now resides on npmjs.org.</p></a></section></article></div></aside></article></section><footer class="footer"><svg class="est1670" xmlns="http://www.w3.org/2000/svg"><use class="hbc-tech-logo__use" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#est1670"></use></svg><section class="footer__links"><ul class="social-links social-links__list"><li class="social-links__list-item"><a class="social-links__link" target="_blank" rel="next" href="https://www.linkedin.com/company/hbc_digital/"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="linkedin" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#linkedin"></use></svg></a></li><li class="social-links__list-item"><a class="social-links__link" target="_blank" rel="next" href="https://twitter.com/hbcdigital/"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="twitter" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#twitter"></use></svg></a></li><li class="social-links__list-item"><a class="social-links__link" target="_blank" rel="next" href="https://www.instagram.com/hbcdigital"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="instagram" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tech.hbc.com//assets/images/hbc-icons.svg#instagram"></use></svg></a></li></ul><p class="copyright">&copy; 2018 HBC Tech</p></section></footer><script type="text/javascript" src="http://tech.hbc.com//assets/js/vendor/scrollmagic/ScrollMagic.min.js"></script><script type="text/javascript" src="http://tech.hbc.com//assets/js/vendor/jekyll-search-js/fetch.js"></script><script type="text/javascript" src="http://tech.hbc.com//assets/js/vendor/jekyll-search-js/search.js"></script><script type="text/javascript" src="http://tech.hbc.com//assets/js/main.js"></script><script type="text/javascript" src="http://tech.hbc.com//assets/js/vendor/snap/snap.svg-min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-106560024-1', 'auto');
  ga('send', 'pageview');
</script></body></html>