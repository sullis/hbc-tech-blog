<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Java has log4j...Objective-C has CocoaLumberjack...and now Swift has CleanroomLogger</title><title>Java has log4j…Objective-C has CocoaLumberjack…and now Swift has CleanroomLogger | HBC Tech</title><meta property="og:title" content="Java has log4j…Objective-C has CocoaLumberjack…and now Swift has CleanroomLogger"><meta name="author" content="Evan Maloney"><meta property="og:locale" content="en_US"><meta name="description" content="Gilt Tech is proud to announce the release of CleanroomLogger 1.0, an open-source logging API for iOS."><meta property="og:description" content="Gilt Tech is proud to announce the release of CleanroomLogger 1.0, an open-source logging API for iOS."><link rel="canonical" href="https://saksdirect.github.io/hbc-tech-blog/2015-05-08-java-has-log4j-objective-c-has.html"><meta property="og:url" content="https://saksdirect.github.io/hbc-tech-blog/2015-05-08-java-has-log4j-objective-c-has.html"><meta property="og:site_name" content="HBC Tech"><meta property="og:type" content="article"><meta property="article:published_time" content="2015-05-08T16:44:05-05:00"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@Evan Maloney"><script type="application/ld+json">{"name":null,"description":"Gilt Tech is proud to announce the release of CleanroomLogger 1.0, an open-source logging API for iOS.","author":{"@type":"Person","name":"Evan Maloney"},"@type":"BlogPosting","url":"https://saksdirect.github.io/hbc-tech-blog/2015-05-08-java-has-log4j-objective-c-has.html","publisher":null,"image":null,"headline":"Java has log4j…Objective-C has CocoaLumberjack…and now Swift has CleanroomLogger","dateModified":"2015-05-08T16:44:05-05:00","datePublished":"2015-05-08T16:44:05-05:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"https://saksdirect.github.io/hbc-tech-blog/2015-05-08-java-has-log4j-objective-c-has.html"},"@context":"http://schema.org"}</script><link rel="stylesheet" href="https://saksdirect.github.io/hbc-tech-blog/assets/css/main.css"><link rel="canonical" href="https://saksdirect.github.io/hbc-tech-blog/2015-05-08-java-has-log4j-objective-c-has.html"><link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700" rel="stylesheet"><link rel="shortcut icon" href="https://saksdirect.github.io/hbc-tech-blog/assets/images/favicon.ico"></head><body aria-label="Content"><header id="site-header" class="site-header"><div class="site-header__inner"><a class="site-header__logo" href="https://saksdirect.github.io/hbc-tech-blog/"><svg class="hbc-tech-logo" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 64 52"><use class="hbc-tech-logo__text" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#hbc-tech-logo"></use></svg></a><p class="sticky-nav-meta"><a href="https://saksdirect.github.io/hbc-tech-blog/category/mobile" class="meta__category">mobile</a> <span class="slug-divider"></span> <span class="meta__title">Java has log4j...Objective-C has CocoaLumberjack...and now Swift has CleanroomLogger</span></p><nav id="menu" class="navigation"><svg class="navigation__menu-icon" xmlns="http://www.w3.org/2000/svg"><path class="bar bar__top" d="M0,3 L30,3"></path><path class="bar bar__cross-1" d="M0,14 L30,14"></path><path class="bar bar__cross-2" d="M0,14 L30,14"></path><path class="bar bar__bottom" d="M0,25 L30,25"></path></svg><menu class="menu"><ul class="link-list"><li class="link-list__link-item"><a href="https://saksdirect.github.io/hbc-tech-blog/" class="link-list__link"><span class="link-list__link-highlight">Insights</span></a></li><li class="link-list__link-item"><a href="https://saksdirect.github.io/hbc-tech-blog/code" class="link-list__link"><span class="link-list__link-highlight">Code</span></a></li><li class="link-list__link-item"><a href="https://saksdirect.github.io/hbc-tech-blog/about" class="link-list__link"><span class="link-list__link-highlight">About</span></a></li><li class="link-list__link-item"><a href="https://saksdirect.github.io/hbc-tech-blog/work-here" class="link-list__link"><span class="link-list__link-highlight">Work Here</span></a></li></ul></menu></nav><search id="header-search" class="header-search"><form class="header-search__form"><input type="text" class="header-search__input" id="header-search-input" placeholder="Search" name="query"></form><svg id="header-search__toggle" class="header-search__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 64 52"><use class="header-search__icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#search"></use></svg><section class="header-search__results" id="header-search__results"></section></search></div></header><section class="content"><article class="article"><header class="article__header article__header--reveal"><h1 class="header-title" title="Java has log4j...Objective-C has CocoaLumberjack...and now Swift has CleanroomLogger">Java has log4j...Objective-C has CocoaLumberjack...and now Swift has CleanroomLogger</h1><span id="no-image-placeholder" class="no-image-placeholder"></span><div class="article-meta"><a href="https://saksdirect.github.io/hbc-tech-blog/category/mobile" class="article-meta__category">mobile</a> <span class="slug-divider"></span> <span class="article-meta__author"><a class="article-meta__author__link" href="https://saksdirect.github.io/hbc-tech-blog/authors/evan-maloney">Evan Maloney</a></span> <span class="slug-divider"></span> <span class="article-meta__date">MAY 8, 2015</span></div></header><section class="article__content article__content--reveal"><div class="article__content__read-time"><span class="read-time" title="Estimated read time"><span class="read-time__text-1">3 min</span> <span class="read-time__text-2">Read</span> <span class="read-time__text-3">Time</span></span></div><div class="article__content__share-buttons"><ul class="share-buttons"><li class="share-buttons__link-item"><a href="https://twitter.com/intent/tweet?text=https://saksdirect.github.io/hbc-tech-blog//2015-05-08-java-has-log4j-objective-c-has.html" class="share-buttons__link" title="Share on Twitter"><svg class="hbc-svg-icon" height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon--twitter" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#twitter"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://saksdirect.github.io/hbc-tech-blog/&source=/2015-05-08-java-has-log4j-objective-c-has.html&title=Java has log4j...Objective-C has CocoaLumberjack...and now Swift has CleanroomLogger" class="share-buttons__link" title="Share on Linkedin"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#linkedin"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://saksdirect.github.io/hbc-tech-blog//2015-05-08-java-has-log4j-objective-c-has.html" class="share-buttons__link" title="Share on Facebook"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#facebook"></use></svg></a></li><li class="share-buttons__link-item"><a href="https://www.reddit.com/submit?url=https://saksdirect.github.io/hbc-tech-blog//2015-05-08-java-has-log4j-objective-c-has.html" class="share-buttons__link" title="Share on Reddit"><svg height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#reddit"></use></svg></a></li></ul></div><div class="article__content__body"><p>Gilt Tech is proud to announce the release of <a href="https://github.com/emaloney/CleanroomLogger#cleanroomlogger" target="_blank">CleanroomLogger</a> 1.0, an open-source logging API for iOS.</p><p>CleanroomLogger provides a simple, lightweight and performant logging API written in Swift that will be readily understood by anyone familiar with other logging packages like CocoaLumberjack and log4j.</p><h1>CleanroomLogger Highlights</h1><p>CleanroomLogger provides these key features:</p><ul><li>Classify log messages according to one of five <i>severity levels</i>: <b>verbose</b>, <b>debug</b>, <b>info</b>, <b>warning</b> and <b>error</b></li><li>See the source file and line number of each log message recorded</li><li>Silently ignore messages below a given severity threshold</li><li>Far more respectful of the calling thread than <code>NSLog()</code></li><li>A <code>trace()</code> function that can be used to trace an application&rsquo;s code paths by logging the location of its caller</li><li>Configurable log behavior that puts the application developer in control of embedded code</li><li>Extension points that allow custom implementations for (1) log message formatting, (2) message filtering logic, and (3) the recording of log messages to an underlying facility.</li></ul><h2>Message logging</h2><p>Each message sent to the log is associated with a <i>severity</i> value indicating the relative importance of the message.</p><p>You would send an informational message as follows:</p><pre>
Log.info?.message("The user has added \(count) items to the cart")
</pre><p>If a condition occurs that itself isn&rsquo;t an error, but that might signal future trouble, you might issue a <i>warning</i>:</p><pre>
Log.warning?.message("We're running low on space!!!")
</pre><p>Finally, when things hit the fan, you&rsquo;ve got:</p><pre>
Log.error?.message("Oh my, this is extremely embarrassing")
</pre><p>Each log message is recorded with the file and line that issued it, so you can very quickly figure out what code was responsible for a given message.</p><h2>Execution tracing</h2><p>As you&rsquo;re developing and testing your code, you might want to understand the flow of execution your code takes. You can add <code>trace()</code> calls to various points in your code:</p><pre>
Log.debug?.trace()
</pre><p>The code above would print out the file and line number containing the <code>trace()</code> call, as well as the name of the calling function. The output looks like:</p><pre>
ModularTable.swift:364 — tableView(_:cellForRowAtIndexPath:)
</pre><h2>Logging arbitrary values</h2><p>Sometimes life hands you an <code>NSError</code>. Why bother constructing a <i>new</i> message? The <code>NSError</code> <i>is</i> the message:</p><pre>
Log.error?.value(err)
</pre><p>This function accepts <code>Any?</code>, meaning it&rsquo;ll handle anything you throw at it.</p><h2>Extensibility</h2><p>CleanroomLogger&rsquo;s extension points allow you to fully customize all aspects of logging without having to worry about the <i>mechanics</i> of how a logging engine is implemented.</p><p>The ability to provide one or more custom <code>LogRecorder</code> implementations is particularly powerful. You could implement your own <code>LogRecorder</code> to do things like:</p><ul><li>Write messages to a file or set of (potentially rotating) files</li><li>Store messages with a <i>warning</i> or <i>error</i> severity in a database for subsequent diagnostic evaluation</li><li>Send messages with an <i>error</i> severity to a network endpoint to enable rapid response to codebase instability</li></ul><p>And because more than one <code>LogRecorder</code> can be used at a time, you can multiplex your log messages to multiple destinations without writing any additional code.</p><h1>About CleanroomLogger</h1><p>CleanroomLogger is part of <a href="https://github.com/gilt/Cleanroom" target="_blank">the Cleanroom project</a> a set of open-source Swift projects launched as &ldquo;an experiment in re-imagining Gilt&rsquo;s iOS codebase in a legacy-free incarnation that embraces the latest Apple technology.&rdquo;</p><p><a href="https://github.com/emaloney/CleanroomLogger" target="_blank">The source code for CleanroomLogger is available on GitHub</a>, and may be used, modified and redistributed freely under <a href="https://github.com/emaloney/CleanroomLogger/blob/master/LICENSE" target="_blank">the MIT license</a>.</p></div><footer class="article__content__footer"><div class="article-tags"><span class="article-tags__tag">swiftlang</span><span>,</span> <span class="article-tags__tag">swift</span><span>,</span> <span class="article-tags__tag">ios</span><span>,</span> <span class="article-tags__tag">xcode</span><span>,</span> <span class="article-tags__tag">log4j</span><span>,</span> <span class="article-tags__tag">cocoalumberjack</span><span>,</span> <span class="article-tags__tag">opensource</span><span>,</span> <span class="article-tags__tag">github</span><span>,</span> <span class="article-tags__tag">mobile</span><span>,</span> <span class="article-tags__tag">apple</span><span>,</span> <span class="article-tags__tag">iphone</span><span>,</span> <span class="article-tags__tag">ipad</span></div><section class="author-bio"><svg class="author-bio__avatar" height="36" width="36" xmlns="http://www.w3.org/2000/svg"><use class="hbc-svg-icon hbc-svg-icon--avatar__circle" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#circle"></use><use class="hbc-svg-icon hbc-svg-icon--avatar__head" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#head"></use><use class="hbc-svg-icon hbc-svg-icon--avatar__body" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#body"></use></svg><p><a class="author-bio__link" href="https://saksdirect.github.io/hbc-tech-blog/authors/evan-maloney">Evan Maloney</a></p><p class="author-bio__bio">Evan is a Distinguished Engineer focusing on Apple platforms software development for Gilt and Saks Fifth Avenue at HBC Tech. He joined Gilt in 2010, and since then, over $1 billion in merchandise has been sold through the apps that Evan works on.</p></section></footer></section><aside class="recirc"><h2 class="header__title">Recent Insights</h2><span class="slug-divider"></span> <a class="header__view-all-link" href="https://saksdirect.github.io/hbc-tech-blog/categories/index.html">See All</a><div class="recirc__articles"><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2017-01-25-perfect-overnight-cold-brew.html" class="snippet__title__link" title="Perfect Overnight Cold Brew">Perfect Overnight Cold Brew</a></h1><div class="snippet__meta"><a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/culture">culture</a> <span class="slug-divider"></span> <span class="meta__author"><a class="meta__author-link" href="https://saksdirect.github.io/hbc-tech-blog/authors/evan-maloney">Evan Maloney</a></span> <span class="slug-divider"></span> <span class="meta__date">JAN 25, 2017</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2017-01-25-perfect-overnight-cold-brew.html" class="snippet__excerpt__link" title="Perfect Overnight Cold Brew"><p class="snippet__excerpt">When Gilt’s Mobile team worked at 1 Madison Avenue, my morning coffee ritual involved getting a large black iced coffee from myWayCup as I exited the 6 train at 23rd Street. What they served at myWayCup—a private-label version of Intelligentsia Coffee’s House Blend—was so good that I switched to iced coffee year-round—even through brutal New York winters—a trait that often earned me quizzical looks when ordering my preferred drink during...</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2015-10-13-apple-tv-tvos-swift-development-focus-engine.html" class="snippet__title__link" title="Using tvOS, the Focus Engine & Swift to build Apple TV apps">Using tvOS, the Focus Engine & Swift to build Apple TV apps</a></h1><div class="snippet__meta"><a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/mobile">mobile</a> <span class="slug-divider"></span> <span class="meta__author"><a class="meta__author-link" href="https://saksdirect.github.io/hbc-tech-blog/authors/evan-maloney">Evan Maloney</a></span> <span class="slug-divider"></span> <span class="meta__date">OCT 13, 2015</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2015-10-13-apple-tv-tvos-swift-development-focus-engine.html" class="snippet__excerpt__link" title="Using tvOS, the Focus Engine & Swift to build Apple TV apps"><p class="snippet__excerpt">At the Apple product launch event in September, Gilt demonstrated its upcoming “Gilt on TV” app for the Apple TV. (If you missed the demo and would like to see it, Apple has the video available on their website. Eddy Cue’s introduction of Gilt begins at the 74:20 mark.)</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2015-03-16-an-update-on-gilts-ios-open-source-awesomeness.html" class="snippet__title__link" title="An update on Gilt’s iOS open-source awesomeness">An update on Gilt’s iOS open-source awesomeness</a></h1><div class="snippet__meta"><a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/mobile">mobile</a> <span class="slug-divider"></span> <span class="meta__author"><a class="meta__author-link" href="https://saksdirect.github.io/hbc-tech-blog/authors/evan-maloney">Evan Maloney</a></span> <span class="slug-divider"></span> <span class="meta__date">MAR 16, 2015</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2015-03-16-an-update-on-gilts-ios-open-source-awesomeness.html" class="snippet__excerpt__link" title="An update on Gilt’s iOS open-source awesomeness"><p class="snippet__excerpt">Gilt&rsquo;s Mockingbird open-source project for iOS was recently recognized by the popular Awesome iOS page, which maintains &ldquo;a curated list of awesome iOS frameworks, libraries, tutorials, plugins Xcode, components and much more.&rdquo;</p></a></section></article><article class="recirc__articles__item"><section class="snippet"><h1 class="snippet__title"><a href="https://saksdirect.github.io/hbc-tech-blog/2017-07-07-ios-notifciation-service-extension-tips.html" class="snippet__title__link" title="Advanced tips for building an iOS Notification Service Extension">Advanced tips for building an iOS Notification Service Extension</a></h1><div class="snippet__meta"><a class="meta__category-link" href="https://saksdirect.github.io/hbc-tech-blog/category/mobile">mobile</a> <span class="slug-divider"></span> <span class="meta__author">Kyle Dorman</span> <span class="slug-divider"></span> <span class="meta__date">JUL 7, 2017</span></div><a href="https://saksdirect.github.io/hbc-tech-blog/2017-07-07-ios-notifciation-service-extension-tips.html" class="snippet__excerpt__link" title="Advanced tips for building an iOS Notification Service Extension"><p class="snippet__excerpt"></p></a></section></article></div></aside></article></section><footer class="footer"><svg class="est1670" xmlns="http://www.w3.org/2000/svg"><use class="hbc-tech-logo__use" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#est1670"></use></svg><section class="footer__links"><ul class="social-links social-links__list"><li class="social-links__list-item"><a class="social-links__link" rel="next" href="#"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="linkedin" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#linkedin"></use></svg></a></li><li class="social-links__list-item"><a class="social-links__link" rel="next" href="#"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="twitter" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#twitter"></use></svg></a></li><li class="social-links__list-item"><a class="social-links__link" rel="next" href="#"><svg class="social-links__icon" xmlns="http://www.w3.org/2000/svg"><use class="instagram" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://saksdirect.github.io/hbc-tech-blog/assets/images/hbc-icons.svg#instagram"></use></svg></a></li></ul><p class="copyright">&copy; 2017 HBC Tech</p></section></footer><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/vendor/scrollmagic/ScrollMagic.min.js"></script><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/vendor/jekyll-search-js/fetch.js"></script><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/vendor/jekyll-search-js/search.js"></script><script type="text/javascript" src="https://saksdirect.github.io/hbc-tech-blog/assets/js/main.js"></script></body></html>